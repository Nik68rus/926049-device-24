var sliderControls=document.querySelector(".promo-slider-controls"),slideToggles=document.querySelectorAll(".promoslide-toggle"),slideList=document.querySelectorAll(".promo-slide"),servSliderControls=document.querySelector(".service-slider-controls"),slideButtons=document.querySelectorAll(".slider-button"),servSlideList=document.querySelectorAll(".service-slide"),link=document.querySelector(".feedback-button"),popup=document.querySelector(".contact-us"),close=document.querySelector(".feedback-close"),userName=popup.querySelector("[name=name]"),email=popup.querySelector("[name=email]"),message=popup.querySelector("[name=message]"),form=popup.querySelector(".feedback"),mapLink=document.querySelector(".map-link"),map=document.querySelector(".map"),mapClose=document.querySelector(".map-close"),isStorageSupport=!0,storageName="",storageMail="";sliderControls.addEventListener("click",function(e){e.preventDefault();var s=e.target;if(s.classList.contains("promoslide-toggle")){for(var o=0;o<slideToggles.length;o++)slideToggles[o].classList.remove("selected"),slideList[o].classList.remove("showing");s.classList.add("selected");for(o=0;o<slideToggles.length;o++)slideToggles[o]==s&&slideList[o].classList.add("showing")}}),servSliderControls.addEventListener("click",function(e){e.preventDefault();var s=e.target;if(s.classList.contains("slider-button")){for(var o=0;o<slideButtons.length;o++)slideButtons[o].classList.remove("curent-slide"),servSlideList[o].classList.remove("showing");s.classList.add("curent-slide");for(o=0;o<slideButtons.length;o++)slideButtons[o]==s&&servSlideList[o].classList.add("showing")}});try{storageName=localStorage.getItem("userName"),storageMail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storageName?(userName.value=storageName,email.focus()):userName.focus(),storageMail?(email.value=storageMail,message.focus()):storageName?email.focus():userName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){userName.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")),map.classList.contains("modal-show")&&map.classList.remove("modal-show"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),map.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-show")});